<div fxLayout="row wrap" class="parent" fxLayout.lg="row " fxLayout.md="row" fxLayout.sm="column" fxLayout.xs="column">

    <div fxFlex="10%" class="left">
    </div>

    <div fxFlex="80%" class="middle">
        <div class="pageHeader">
            Follow - Up
        </div>    

        <div class="filterDiv">
            <mat-card class="mat-elevation-z4 filter-mat-card">            
                <mat-card-content>
                    <form [formGroup]="filterForm">
                        <mat-form-field class="form-field small-form-field" appearance="fill">
                            <mat-label>Province</mat-label>
                            <select matNativeControl (change)="changeProvince($event)" formControlName="province">
                                <option value="">Choose Province</option>
                                <option *ngFor="let p of provinceCollection">
                                    {{p}}
                                </option>
                            </select>
                        </mat-form-field>
                        <span>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </span>
                        <mat-form-field class="form-field small-form-field" appearance="fill">
                            <mat-label>City</mat-label>
                            <select matNativeControl formControlName="city">
                                <option value="">Choose City</option>
                                <option *ngFor="let c of cityCollection">
                                    {{c}}
                                </option>
                            </select>
                        </mat-form-field>
                        <span>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </span>
                        <mat-form-field class="form-field" appearance="outline">
                            <mat-label> Contact-Person's Name
                            </mat-label>
                            <input matInput formControlName="contactPersonName">
                        </mat-form-field>
                        <span>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </span>
                        <input matInput 
                            formControlName="appliedOn"
                            [matDatepicker]="picker" 
                            placeholder="Choose a date">
                        <mat-datepicker-toggle 
                            matSuffix [for]="picker">
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>

                        <p></p>
                        <button (click)="filterNow()" mat-raised-button color="primary" type="button">Filter Now!
                        </button>
                    </form>
                </mat-card-content>
            </mat-card>
        </div>

        <div *ngIf="(jobApps?.length > 0)">
            <div *ngFor="let job of jobApps" class="mainContent-mat-card">
                <mat-card class="mat-elevation-z4 jobApps-mat-card">
                    <mat-card-header>
                        <mat-card-title>{{job.appliedOn | date : "MMMM d, y"}} @ {{job.city}},{{job.province}}</mat-card-title>
                    </mat-card-header>     
                    <mat-card-content>
                        <div fxLayout="row wrap" class="parent" fxLayout.lg="row " fxLayout.md="row" fxLayout.sm="column" fxLayout.xs="column">
                            <div fxFlex="50%">
                                <p>
                                    Contact Name : <span *ngIf="job.contactPersonName; else notAv">{{job.contactPersonName}}</span>
                                </p>                             
                                <p>
                                    Contact Email : <span *ngIf="job.contactEmail; else notAv">{{job.contactEmail}}</span>
                                </p>
                                <p>
                                    Phone : <span *ngIf="job.phoneNumber; else notAv">{{job.phoneNumber}}</span>
                                </p>
                            </div>
                            <div fxFlex="50%">
                                <p>
                                    Company : <span *ngIf="job.companyName; else notAv">{{job.companyName}}</span>
                                </p>
                                <p>
                                    Agency : <span *ngIf="job.agencyName; else notAv">{{job.agencyName}}</span>
                                </p>
                                <p>
                                    URL : <span *ngIf="job.webURL; else notAv">{{job.webURL}}</span>
                                </p>
                            </div>
                        </div>                     
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </div>
</div>

<ng-template #notAv>
    N/A
</ng-template>