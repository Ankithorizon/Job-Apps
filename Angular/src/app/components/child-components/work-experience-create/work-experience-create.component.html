<div class="personalContainer">
    <div>
        <h2>{{pageHeader}}</h2>
    </div>
    <div>
        <form [formGroup]="workExpForm">
            <div class="saveButton">
                <button (click)="saveWorkExperience()" mat-raised-button color="primary" type="button">
                    <mat-icon>save</mat-icon>
                    &nbsp;&nbsp;Work Expeience
                </button> &nbsp;&nbsp;&nbsp;&nbsp;
                <button (click)="saveAndAddMoreWorkExperience()" mat-raised-button color="primary" type="button">
                    <mat-icon>save</mat-icon><span> &nbsp;&amp;&nbsp; </span><mat-icon>note_add</mat-icon>
                    &nbsp;&nbsp; More Work Expeience
                </button>
            </div>

            <div fxLayout="row" class="parent" fxLayout.lg="row " fxLayout.md="row" fxLayout.sm="column" fxLayout.xs="column">
                <div fxFlex="30%" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="100%" class="mainContentLeft">
                    <mat-form-field class="form-field" appearance="outline">
                        <mat-label> Employer Name
                        </mat-label>
                        <input matInput formControlName="employerName" required>
                        <mat-error *ngIf="(workExpForm.controls.employerName.touched || submitted ) && workExpForm.controls.employerName.invalid">
                            <span *ngIf="workExpForm.controls.employerName.errors.required">This
                                field is mandatory.</span>
                        </mat-error>
                    </mat-form-field>
                    <p></p>
                    <mat-form-field class="form-field small-form-field" appearance="fill">
                        <mat-label>Province</mat-label>
                        <select matNativeControl (change)="changeProvince($event)" required formControlName="province">
                            <option value="">Choose Province</option>
                            <option *ngFor="let p of provinceCollection">
                                {{p}}
                            </option>
                        </select>
                        <mat-error *ngIf="(workExpForm.controls.province.touched || submitted ) && workExpForm.controls.province.invalid">
                            <span *ngIf="workExpForm.controls.province.errors.required">This
                                field is mandatory.</span>
                        </mat-error>
                    </mat-form-field>
                    <p></p>
                    <mat-form-field class="form-field small-form-field" appearance="fill">
                        <mat-label>City</mat-label>
                        <select matNativeControl required formControlName="city">
                            <option value="">Choose City</option>
                            <option *ngFor="let c of cityCollection">
                                {{c}}
                            </option>
                        </select>
                        <mat-error *ngIf="(workExpForm.controls.city.touched || submitted ) && workExpForm.controls.city.invalid">
                            <span *ngIf="workExpForm.controls.city.errors.required">This field
                                is mandatory.</span>
                        </mat-error>
                    </mat-form-field>
                </div>

                <div fxFlex="40%" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="100%" class="mainContentLeft">
                    <mat-form-field class="form-field" appearance="outline">
                        <mat-label> Start Date
                        </mat-label>
                        <input required (dateChange)="changeEvent_StartDate($event)" matInput formControlName="startDate" [matDatepicker]="picker">
                        <mat-datepicker-toggle matSuffix [for]="picker">
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <mat-error *ngIf="(workExpForm.controls.startDate.touched || submitted ) && workExpForm.controls.startDate.invalid">
                            <span *ngIf="workExpForm.controls.startDate.errors.required">This
                                field is mandatory.</span>
                        </mat-error>
                    </mat-form-field>
                    <p></p>
                    <mat-form-field class="form-field" appearance="outline">
                        <mat-label> End Date
                        </mat-label>
                        <input (blur)="onBlurEvent_EndDate($event)" (dateChange)="changeEvent_EndDate($event)" matInput formControlName="endDate" [matDatepicker]="picker1">
                        <mat-datepicker-toggle matSuffix [for]="picker1">
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                        <span class="duration">&nbsp;&nbsp;&nbsp;&nbsp;Experience : {{duration}}  Days</span>
                    </mat-form-field>
                    <p></p>
                    <mat-form-field class="form-field" appearance="outline">
                        <mat-label> Job Details
                        </mat-label>
                        <textarea matInput formControlName="jobDetails" required>
                        </textarea>
                        <p></p>
                        <p></p>
                        <button (click)="addJobDetails()" mat-raised-button color="primary" type="button">
                            <mat-icon>note_add</mat-icon>
                        </button>
                        <mat-error *ngIf="(workExpForm.controls.jobDetails.touched || submitted ) && workExpForm.controls.jobDetails.invalid">
                            <span *ngIf="workExpForm.controls.jobDetails.errors.required">This
                                field is mandatory.</span>
                        </mat-error>
                    </mat-form-field>
                </div>

                <div fxFlex="30%" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="100%" class="mainContentLeft">
                    <div *ngIf="(employerNames?.length > 0)">
                        <div class="woEditSpan" *ngFor="let emp of employerNames">
                            <button class="woEditBtn" (click)="editWorkExperience(emp)" mat-raised-button color="primary" type="button">
                                <mat-icon>edit</mat-icon>
                                <span *ngIf="emp.length>25">
                                    {{emp.substring(0, 25)}},,,
                                </span>
                                 <span *ngIf="emp.length<=25">
                                    {{emp}}
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>